(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(135)}])},135:function(e,t,n){"use strict";function r(e,t,n,r,o,i,u){try{var a=e[i](u),s=a.value}catch(c){return void n(c)}a.done?t(s):Promise.resolve(s).then(r,o)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t),n.d(t,{default:function(){return c}});var u=n(7582),a=n(5893),s=n(7294);function c(){var e=(0,s.useState)(""),t=e[0],n=e[1],o=(0,s.useState)(""),c=o[0],l=o[1],d=(0,s.useState)(null),f=d[0],h=d[1],m=(0,s.useState)(!1),p=m[0],g=m[1],y=(0,s.useState)(null),v=y[0],b=y[1],w=(0,s.useState)([]),j=w[0],x=w[1],S=(0,s.useRef)(null),_=function(){var e,n=(e=function(){var e,n,r,o;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:g(!0),b(null),h(null),x([]),S.current&&S.current.close(),e=new window.EventSource("http://localhost:8000/agent/stream_logs"),S.current=e,e.onmessage=function(e){x((function(t){return i(t).concat([e.data])}))},e.onerror=function(){e.close()},u.label=1;case 1:return u.trys.push([1,4,5,6]),[4,fetch("/api/agent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({instruction:t,repo_url:c})})];case 2:return[4,(n=u.sent()).json()];case 3:if(r=u.sent(),!n.ok)throw new Error(r.error||"Error from agent");return h(r),[3,6];case 4:return o=u.sent(),b(o.message),[3,6];case 5:return g(!1),setTimeout((function(){return S.current&&S.current.close()}),1e3),[7];case 6:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(o,i){var u=e.apply(t,n);function a(e){r(u,o,i,a,s,"next",e)}function s(e){r(u,o,i,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,a.jsxs)("div",{style:{maxWidth:800,margin:"2em auto",fontFamily:"monospace"},children:[(0,a.jsx)("h1",{children:"Autonomous Coding Agent Interface"}),(0,a.jsx)("label",{style:{display:"block",margin:"1em 0 0.5em"},children:"Repository URL:"}),(0,a.jsx)("input",{type:"text",value:c,onChange:function(e){return l(e.target.value)},placeholder:"https://github.com/user/repo.git",style:{width:"100%"}}),(0,a.jsx)("label",{style:{display:"block",margin:"1em 0 0.5em"},children:"Instruction:"}),(0,a.jsx)("textarea",{value:t,onChange:function(e){return n(e.target.value)},rows:5,style:{width:"100%"},placeholder:"e.g. Add a test, create a README, etc..."}),(0,a.jsx)("button",{onClick:_,disabled:p||!t.trim()||!c.trim(),style:{margin:"1em 0"},children:p?"Submitting...":"Submit"}),v&&(0,a.jsxs)("div",{style:{color:"red"},children:["Error: ",v]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Agent Log"}),(0,a.jsx)("pre",{style:{background:"#222",color:"#afe",padding:16,minHeight:160,maxHeight:300,overflowY:"scroll",borderRadius:6},children:j.join("\n")})]}),f&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Agent Response"}),(0,a.jsx)("pre",{children:JSON.stringify(f,null,2)})]})]})}}},function(e){e.O(0,[774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);